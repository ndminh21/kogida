$(document).ready(function() {
  return CKEDITOR.replace('input-content', {
    allowedContent: true
  });
});

$("#input-gradeSubjectId").select2({
  language: "vi"
});

$("#input-chapterid").select2({
  language: "vi",
  disabled: true
});

$("table").DataTable({
  language: {
    url: "/components/datatables.net/i8n/vietnamese.json"
  }
});

$(".edit").click(function() {
  return window.location.href = "/sua-bai-hoc?ma=" + (encodeURIComponent($(this).data("unitid")));
});

$("#input-gradeSubjectId").on("change", function(event) {
  var gradeSubjectId;
  gradeSubjectId = $(this).val();
  $("#input-chapterid").empty().trigger("change");
  if (Number(gradeSubjectId) === -1) {
    $("#input-chapterid").prop("disabled", true);
  } else {
    $("#input-chapterid").prop("disabled", false);
  }
  return $.post("/api/tim-kiem-chuong-theo-ma-phan-cong", {
    gradeSubjectId: gradeSubjectId
  }, function(chapterList) {
    var chapter, i, index, len, newOption, results;
    results = [];
    for (index = i = 0, len = chapterList.length; i < len; index = ++i) {
      chapter = chapterList[index];
      newOption = new Option(chapter.ChapterName, chapter.ChapterId, index === 0, index === 0);
      results.push($("#input-chapterid").append(newOption).trigger("change"));
    }
    return results;
  });
});
