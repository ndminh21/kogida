$("table").DataTable({
  language: {
    url: "/components/datatables.net/i8n/vietnamese.json"
  },
  dom: 'Bfrtip',
  paging: false,
  buttons: [
    {
      text: 'Thêm mới',
      action: function(e, dt, node, config) {
        return bootbox.prompt({
          size: "small",
          title: "Tên của môn học mới",
          closeButton: false,
          callback: function(result) {
            if (result != null) {
              return window.location.href = "/tao-mon-hoc-moi?ten=" + (encodeURIComponent(result));
            }
          },
          buttons: {
            confirm: {
              label: "Tạo mới"
            },
            cancel: {
              label: "Bỏ tạo"
            }
          }
        });
      }
    }
  ]
});

$(".edit").click(function() {
  var subjectId;
  subjectId = $(this).data("subjectid");
  return bootbox.prompt({
    size: "small",
    title: "Tên mới của môn học (mã: " + subjectId + ")",
    closeButton: false,
    callback: function(result) {
      return window.location.href = "/sua-ten-mon-hoc?ma=" + (encodeURIComponent(subjectId)) + "&ten=" + (encodeURIComponent(result));
    },
    buttons: {
      confirm: {
        label: "Sửa"
      },
      cancel: {
        label: "Bỏ sửa"
      }
    }
  });
});

$(".remove").click(function() {
  var subjectId;
  subjectId = $(this).data("subjectid");
  return bootbox.confirm({
    message: "<h4>Bạn có chắc chắn xóa môn học (mã: " + subjectId + ") này?</h4>",
    closeButton: false,
    callback: function(result) {
      if (result) {
        return window.location.href = "/xoa-mon-hoc?ma=" + (encodeURIComponent(subjectId));
      }
    },
    buttons: {
      confirm: {
        label: "Xóa"
      },
      cancel: {
        label: "Bỏ xóa"
      }
    }
  });
});
