var Queue, mathInput;

Queue = MathJax.Hub.queue;

mathInput = null;

$(document).ready(function() {
  return Queue.Push(function() {
    return mathInput = MathJax.Hub.getAllJax("MathInput")[0];
  });
});

$("form").submit(function(event) {
  var chapter, content;
  event.preventDefault();
  chapter = JSON.parse($("input[name=chapter]").val());
  content = $("input[name=content]").val();
  if (content === "") {
    window.location.href = "/xem-bai-tap-theo-chuong/" + chapter.ChapterId + "/" + (KhongDau(chapter.ChapterName.toLowerCase(), ["chuyen", "url"])) + "/trang-1";
  } else {
    window.location.href = "/tim-kiem-de-bai-theo-chuong/" + chapter.ChapterId + "/" + (KhongDau(chapter.ChapterName.toLowerCase(), ["chuyen", "url"])) + "/" + (encodeURIComponent(content)) + "/trang-1";
  }
  return false;
});

$("#InputBox").click(function() {
  var editor;
  return editor = window.open("/may-tinh-kogida?editor=true&solver=true", "popupWindow", "width=600, height=400, scrollbars=yes");
});

window.getMathDisplayTex = function(tex, angleMode, variables) {
  if (variables == null) {
    variables = [];
  }
  $("#solve-button").attr("href", tex.length > 0 ? "/bai-giai-pt-hpt?tex=" + (encodeURIComponent(tex)) + "&variables=" + (encodeURIComponent(variables)) + "&anglemode=" + (encodeURIComponent(angleMode)) : "#");
  return Queue.Push(["Text", mathInput, tex]);
};
